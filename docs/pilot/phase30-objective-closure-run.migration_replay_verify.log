(node:4959) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("/home/andrey/src/cicsc/tests/harness/ts-extension-loader.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
(node:4959) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///home/andrey/src/cicsc/tests/conformance/migration-replay-conformance.test.ts is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /home/andrey/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
▶ migration conformance (oracle replay before/after)
  ✔ preserves replayed semantics under event/state mapping (3.779761ms)
  ✔ preserves replayed semantics when migration drops explicitly ignored events (0.490958ms)
✔ migration conformance (oracle replay before/after) (5.540833ms)
(node:4960) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("/home/andrey/src/cicsc/tests/harness/ts-extension-loader.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
(node:4960) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///home/andrey/src/cicsc/tests/oracle/cutover-protocol.test.ts is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /home/andrey/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
▶ cutover protocol
  ✔ runs pause->verify/migrate->activate->resume flow (3.056564ms)
  ✔ resumes tenant even when verification fails (0.38266ms)
✔ cutover protocol (4.15249ms)
(node:4966) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("/home/andrey/src/cicsc/tests/harness/ts-extension-loader.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
(node:4966) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///home/andrey/src/cicsc/tests/oracle/migration-dry-run.test.ts is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /home/andrey/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
▶ migration dry-run artifacts
  ✔ produces a passing dry-run artifact and writes it to sink (2.668459ms)
  ✔ produces a failing dry-run artifact when preflight fails (0.552904ms)
✔ migration dry-run artifacts (3.920394ms)
(node:4967) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("/home/andrey/src/cicsc/tests/harness/ts-extension-loader.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
(node:4967) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///home/andrey/src/cicsc/tests/oracle/migration-preflight.test.ts is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /home/andrey/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
▶ migration preflight checklist
  ✔ passes all checks for valid migration/bundles/history (2.592069ms)
  ✔ fails preflight when history integrity has seq gaps (0.529684ms)
  ✔ fails preflight when migration version is not forward (0.31688ms)
✔ migration preflight checklist (4.218497ms)
(node:4973) ExperimentalWarning: `--experimental-loader` may be removed in the future; instead use `register()`:
--import 'data:text/javascript,import { register } from "node:module"; import { pathToFileURL } from "node:url"; register("/home/andrey/src/cicsc/tests/harness/ts-extension-loader.mjs", pathToFileURL("./"));'
(Use `node --trace-warnings ...` to show where the warning was created)
(node:4973) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///home/andrey/src/cicsc/tests/oracle/rollback-workflow.test.ts is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /home/andrey/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
▶ rollback workflow (reversible subset)
  ✔ rolls back history when migration is reversible (1.278795ms)
  ✔ fails rollback when migration has drops (0.443404ms)
  ✔ fails rollback when migration has payload_map (0.277514ms)
  ✔ fails rollback when event mapping is non-injective (0.22028ms)
✔ rollback workflow (reversible subset) (3.388109ms)
ℹ tests 13
ℹ suites 5
ℹ pass 13
ℹ fail 0
ℹ cancelled 0
ℹ skipped 0
ℹ todo 0
ℹ duration_ms 190.173546
